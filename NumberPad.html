<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="tim.css">
  <script src="timscripts.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.js"
  integrity="sha256-fNXJFIlca05BIO2Y5zh1xrShK3ME+/lYZ0j+ChxX2DA="
  crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>

  <title>Card Pin</title>
</head>
<body>
  <div class="row">
    <div id="home_col_ML" class = "col-md-6">
      <button class = "btn btn-primary" style="margin-top:1%; position: relative; left: 10px; height:60px; width:60px" onclick="back()">
        <i class="material-icons">&#xE317;</i>
      </button>
      <button type = "button" class = "btn btn-primary" style="margin-top: 1%; height:60px; width:60px; position:absolute; right:0px;" onclick="location.href='./transitsystem.html'">
        <h2><span class = "fas fa-home"></span></h2>
      </button>
    </div>
    <div id = "back_col_ML" class = "col-md-6">
    </div>
  </div>
  <div class="container">

    <div class="col-md-12" style="text-align:center">
      <div class="row">
        <div class="col-md-8" style="text-align:center">
          <h1 style="margin-top: 5%">ENTER PIN</h1>
          <div style="margin-left:8em;margin-top:30px;width:450px;height:400px;border:none">
            <div id="keyboard">
              <ol class="keys">
                <li data-number='1'>1</li>
                <li data-number='2'>2</li>
                <li data-number='3'>3</li>
                <li data-number='4'>4</li>
                <li data-number='5'>5</li>
                <li data-number='6'>6</li>
                <li data-number='7'>7</li>
                <li data-number='8'>8</li>
                <li data-number='9'>9</li>
                <li style="background-color:rgb(255,255,255); color:#FFF; border: none"></li>
                <li data-number='0'>0</li>
              </ol>
            </div>
            <script>
            var i = 0;
            $('.keys').on('click', 'li', function() {
              if(i<4){
                var num = $(this).data('number')
                //document.getElementById("myPsw").value = num;

                $('#myPsw').val($('#myPsw').val() + num);
                //var x = document.getElementById("#myPsw").value;
                //document.getElementById("myPsw").innerHTML = num;
                // console.log($('#myPsw').val.length);
              }
              i++;
            });
            
             function cancel(){
              document.getElementById("myPsw").value = "";
               i = 0;
            };
            //var pin = document.getElementById("myPsw").value.length;
            function enter(){
              if(i == 4 ){
                document.getElementById("tenter").disabled = false;
                window.location.href = "./ConfirmationScreen.html";
                i = 0;
              }
              else {
                alert("Please enter your 4 digit pin!");
              }
            }

            function back(){
              window.location.href = "./paymentMethod.html"
            }
            </script>
          </div>
        </div>
        <div class="col-md-4" style="text-align:left">
          <input type="password" id="myPsw" style="font-size:100px;width:240px;height:100px; text-align:center; margin-top: 30%; margin-bottom: 20px" maxlength="4" readonly><br>
          <button type="button" id="clear" class="btn btn-primary" style="margin-bottom: 20px;font-size:30px;width:180px;height:60px" onclick="cancel()">Clear</button><br>
          <button id="tenter" type="button" class="btn btn-primary" style="margin-bottom: 20px;font-size:30px;width:180px;height:60px"
          onclick="enter()">Enter</button><br>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
</body>
</html>
